#!/bin/bash
# ============================================================================
# pre-commit hook - Project-level pre-commit checks
# ============================================================================

set +e  # Fail-open: let pre-commit-checks.sh handle its own exit code

WORKSPACE="${CLAUDE_PROJECT_DIR:-/workspace}"
SCRIPT="$HOME/.claude/scripts/pre-commit-checks.sh"

# Fallback to workspace scripts if home not available
if [ ! -f "$SCRIPT" ]; then
    SCRIPT="$WORKSPACE/.devcontainer/images/.claude/scripts/pre-commit-checks.sh"
fi

if [ -f "$SCRIPT" ]; then
    bash "$SCRIPT" "$WORKSPACE"
fi

exit 0
